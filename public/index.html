<!doctype html>
<html lang="pt-br" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <title>Cabana de Brincar | A Melhor Festa do Pijama</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Nunito:wght@400;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Nunito", "sans-serif"],
              display: ["Fredoka", "sans-serif"],
            },
            colors: {
              brand: { pink: "#FF6B95", dark: "#2D2A4A", soft: "#FFF5F8" },
            },
          },
        },
      };
    </script>
    <style>
      .hero-pattern {
        background-color: #fff5f8;
        background-image: radial-gradient(#ffd9e3 2px, transparent 2px);
        background-size: 30px 30px;
      }
    </style>
  </head>
  <body class="font-sans text-slate-600 bg-white antialiased">
    <header
      class="fixed w-full bg-white/90 backdrop-blur-md border-b border-slate-100 z-50"
    >
      <div
        class="container mx-auto px-6 py-4 flex items-center justify-between"
      >
        <div class="text-2xl font-display font-bold text-brand-pink">
          Cabana<span class="text-brand-dark">.Brincar</span>
        </div>
        <nav class="hidden md:flex gap-8 font-bold text-sm text-slate-500">
          <a href="#galeria" class="hover:text-brand-pink">Galeria</a>
          <a href="#depoimentos" class="hover:text-brand-pink">Depoimentos</a>
        </nav>
        <a
          href="orcamento.html"
          class="bg-brand-pink text-white px-6 py-2 rounded-full font-bold shadow-lg hover:bg-pink-500 transition-all text-sm"
          >Montar Festa</a
        >
      </div>
    </header>

    <section class="pt-32 pb-20 hero-pattern text-center">
      <h1
        class="font-display text-4xl lg:text-6xl font-bold text-brand-dark mb-6"
      >
        Sua festa <span class="text-brand-pink">Mágica!</span>
      </h1>
      <p class="text-slate-500 text-lg mb-8 max-w-xl mx-auto">
        Levamos a festa do pijama completa até você.
      </p>
      <a
        href="orcamento.html"
        class="bg-brand-dark text-white px-8 py-4 rounded-2xl font-display font-bold text-lg shadow-xl hover:bg-slate-800 transition-all inline-flex gap-2 items-center"
        ><i data-lucide="wand-2"></i> Simular Orçamento</a
      >
    </section>

    <section id="galeria" class="py-20 bg-slate-50">
      <div class="container mx-auto px-6">
        <h2
          class="text-center font-display text-3xl font-bold text-brand-dark mb-12"
        >
          Nossas Festas
        </h2>
        <div
          id="galeria-container"
          class="grid grid-cols-2 md:grid-cols-4 gap-4"
        >
          <p class="col-span-4 text-center">Carregando...</p>
        </div>
      </div>
    </section>

    <section id="depoimentos" class="py-20 bg-brand-soft">
      <div class="container mx-auto px-6">
        <h2
          class="text-center font-display text-3xl font-bold text-brand-dark mb-12"
        >
          Depoimentos
        </h2>
        <div
          id="grid-depoimentos"
          class="grid grid-cols-1 md:grid-cols-3 gap-8"
        ></div>
      </div>
    </section>

    <footer class="bg-white py-8 border-t border-slate-100 text-center">
      <p class="font-bold text-brand-dark">Cabana.Brincar</p>
      <a href="painel.html" class="text-xs text-brand-pink mt-4 inline-block"
        >Área Admin</a
      >
    </footer>

    <script>
      lucide.createIcons();
      async function carregarGaleria() {
        try {
          const res = await fetch("/api/galeria");
          const urls = await res.json();
          const container = document.getElementById("galeria-container");
          if (urls.length === 0)
            return (container.innerHTML =
              '<p class="col-span-4 text-center">Sem fotos.</p>');
          container.innerHTML = urls
            .map(
              (url) =>
                `<div class="rounded-2xl overflow-hidden h-48 md:h-64"><img src="${url}" class="w-full h-full object-cover hover:scale-110 transition-transform duration-700"></div>`,
            )
            .join("");
        } catch (e) {}
      }
      async function carregarDepoimentos() {
        const res = await fetch("/api/depoimentos");
        const dados = await res.json();
        document.getElementById("grid-depoimentos").innerHTML = dados
          .map(
            (dep) => `
              <div class="bg-white p-6 rounded-2xl shadow-sm"><div class="text-yellow-400 mb-2">${"★".repeat(dep.rating)}</div><p class="italic mb-4">"${dep.comentario}"</p><div class="font-bold">${dep.cliente_nome}</div></div>
          `,
          )
          .join("");
      }
      window.addEventListener("load", () => {
        carregarGaleria();
        carregarDepoimentos();
      });
    </script>
  </body>
</html>
